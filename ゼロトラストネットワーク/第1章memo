第1章 ゼロトラストの基礎

ゼロトラストネットワークとは何か
ゼロトラストネットワークの基本的な原則
・ネットワークは常に安全ではないとみなされる
・ネットワーク上には外部及び内部の脅威が常に存在する
・ネットワークを信用できると判断するにはローカルネットワークでは不十分である
・デバイス、ユーザ、ネットワークフローは1つ残らず認証および認可されている
・ポリシーは動的でありできるだけ多くの情報源に基づいて作成されなければならない
従来のネットワークセキュリティ
→ネットワークをゾーンに分割し1つ以上のファイアウォールで止める
　ゾーンには何らかの信頼レベルが割り当てられそれによりどのネットワークリソースへのアクセスが許可されるか決まる。
従来だと欠点がある
・ゾーン内でのトラフィックが検査されない
・ホストの配置に柔軟性がない
・単一障害点
注意すべきはローカルネットワークへのアクセスをなくすこと
→こうすることでVPNは必要なくなる
　→ただしVPNがなくなることによるエンドポイントへの影響（アクセス制御の追加など）

ゼロトラストコントロールプレーン
サポーティングシステムはコントロールプレーンと呼ばれる。
それ以外はデータプレーン。
→コントロールプレーンによって管理
コントロールプレーンではデバイス、ユーザ両方で認証、認可が必要

境界モデルの進化
従来のアーキテクチャ＝境界モデル
→この方法は十分ではない

グローバルIPアドレス空間の管理
昔のグローバルIPアドレスの割り当て＝ポステル氏（インターネット地図の初期作成者）の管理下。
現在のグローバルIPアドレスの割り当て＝IANA

プライベートIPアドレス空間の誕生
IPの導入が進むにつれてアドレス空間の無駄遣いが問題になる。
そのためプライベートIPアドレスが導入された。

プライベートネットワークからパブリックネットワークへの接続
電子メールを外部のグループへ送りたいと思った場合プライベートからパブリックへ接続する必要がある。
その時代、メールサーバとプライベート空間は1対1の関係だったため、
セキュアなプライベート空間にも侵入されてしまう恐れがあることが発覚。
そのためファイアウォールを設置し監視するようになった。
この流れから境界モデルが生成され、外部ホストが設置される厳重に管理される場所はDMZとなった。

NATの誕生
内部からインターネットリソースが急激に増えてきたためNAT登場。
NATの特性として内部から外部へはアクセスできるが設定しない限り
外部から内部へのアクセスは不可能だった。→FWと同じ特性。

現代の境界モデル
内部ネットワークとインターネットの間にFWを設置するとセキュリティゾーンが明確になる。
セキュリティゾーンにはセキュアゾーン、DMZ、信頼できないゾーンの3つが存在する。
新しい組織は新しいセキュリティゾーンになる可能性があるのでトラフィックに特定のルールが設けられる。
基本的にそれぞれの扉に厳重なセキュリティ制御を施すことでリスクを最小限にすることが主流。

潜在的な脅威の進化
昔の通信は公衆電話網を利用しており、ユーザとコンピューターシステム間で電話を行い
データを可聴音にエンコードして接続していた。
インターネットに接続されると攻撃者も当然インターネットへ。
攻撃だけでなく傍受も可能になった。
攻撃されていることに気づいた人たちは専用アプライアンスとして提供されているFWを導入。
さらにDMZを用意することで内部へのアクセスも止めるようになった。
外部から内部へのセキュリティは厳しくなっていたが一方で逆の場合はかなり緩い。
→いまだそう。
TCPが双方向通信なのでデータを注入することが可能となっている。
一般的な攻撃の流れ
1.ユーザが特定のページを訪れたときにブラウザ経由で内部ネットワーク上の1台のコンピューターに侵入する
　→例えばローカルソフトウェアをエクスプロイトする添付ファイルを含んだメールを送信
2.エクスプロイトは非常に小さなペイロードを送信しリモートホストに接続
　→ダイヤラと呼ばれるもの
3.ダイヤラがリモートサーバからマルウェアをダウンロードしインストールする。
ネットワーク内部から攻撃できるなら威力は絶大。

境界モデルの弱点
境界モデルの使い方に問題があることが明らかに＝攻撃が毎日のように発生し成功している
現在では高い壁を築くような非効率なモデル
問題発生するのはネットワークに組み込むセキュリティゾーンを設計するとき。
→何か例外が発生しそうだからそこだけあけてこうみたいなルール。
　→ファイアウォール例外
例外があるとそこから内部ネットワークへ入れてしまう可能性が高くなる。

信用の在りか
境界モデル以外の選択肢について検討する際には信用できるものと信用できないものを
しっかり理解しておく必要がある。
ゼロトラストはネットワークを盲目的に信頼しないモデル。
→インターネットがそう。
ゼロトラストモデルはすべての端末がインターネットに接続されているものと考える。

成功要因としての自動化
ゼロトラストネットワークでは新しいプロトコルやライブラリは要求されない。
既存のテクノロジーを斬新な方法で使用しているだけ。
→ただし自動化システムは必要。
コントロールプレーンとデータプレーン間のやり取りは自動化が最も必要となるポイント。
構成管理があると非常に便利

境界とゼロトラスト
境界モデルとゼロトラストモデルは根本的に違う
